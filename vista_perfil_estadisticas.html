<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/vista_perfil_estadisticas.css">
    <title>Estadísticas</title>
    <script src="menuhamburguesa.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
</head>
<body>
    <nav class="nav__principal">
        <div>
            <img class="logo" src="/imagenes/logo.png" alt="logo">
        </div>
        <div class="menu-toggle" id="menu-toggle">
            ☰
        </div>
        <div class="nav__principal-botones" id="nav-links">
            <a href="#" class="nav__principal-link">Mis encuestas</a>
            <a href="#" class="nav__principal-link">Estadísticas generales</a>
            <a href="#" class="nav__principal-link">Mi perfil</a>
            <button class="boton__1">Crear encuesta</button>
        </div>
    </nav>

    <div class="contenedor__inicio">
        <div class="contenedor__encuesta-header">
            <h1 class="contenedor__inicio-titulo">Perfil</h1>
        </div>
    </div>

    <div class="contenedor__perfil">
        <img src="/iconos/perfil.jpg" alt="" class="imagen__perfil">
        <h3 class="titulo__perfil">Información del Perfil</h3>
        <p class="perfil__subtitulo">Administrar su información personal y la configuración de su cuenta</p>
        <div class="editar__perfil">
            <button class="boton__1">Editar perfil</button>
            <button class="boton__1">Cambiar Contraseña</button>
        </div>
    </div>

    <div class="contenedor__informacion-personal">
        <h3 class="titulo__informacion-personal">Información Personal</h3>
        <div class="informacion__personal">
            <img src="/iconos/perfil.jpg" alt="">
            <p class="parrafo__informacion-personal">Nombre Completo</p>
            <p class="nombre">Carlos Rodriguez</p>
        </div>
        <div class="informacion__personal">
            <img src="/iconos/perfil.jpg" alt="">
            <p class="parrafo__informacion-personal">Correo Electrónico</p>
            <p class="nombre">correo@correo.com</p>
        </div>
        <div class="informacion__personal">
            <img src="/iconos/perfil.jpg" alt="">
            <p class="parrafo__informacion-personal">Número de Teléfono</p>
            <p class="nombre">0424 - 123 45 67</p>
        </div>
    </div>

    <div class="contenedor__inicio">
        <div class="contenedor__encuesta-header">
            <h1 class="contenedor__inicio-titulo">Mis Estadísticas</h1>
        </div>
    </div>

    <div class="contenedor__estadisticas">
        <div class="card__estadisticas">
            <img src="/iconos/encuesta.jpg" alt="" class="imagen__card">
            <p class="estado__card">Total</p>
            <h2 class="titulo__card">450 Encuestas</h2>
            <p class="parrafo__card">Total de encuestas creadas.</p>
            <button class="boton__1" onclick="abrirModal()">Generar PDF</button>
        </div>

        <div class="card__estadisticas">
            <img src="/iconos/encuestas_activas.png" alt="" class="imagen__card">
            <p class="estado__card">Activas</p>
            <h2 class="titulo__card">40 Encuestas</h2>
            <p class="parrafo__card">Encuestas actualmente activas.</p>
            <button class="boton__1" onclick="abrirModal()">Generar PDF</button>
        </div>

        <div class="card__estadisticas">
            <img src="/iconos/pausar_encuesta.png" alt="" class="imagen__card">
            <p class="estado__card">Inactivas</p>
            <h2 class="titulo__card">200 Encuestas</h2>
            <p class="parrafo__card">Encuestas actualmente inactivas.</p>
            <button class="boton__1" onclick="abrirModal()">Generar PDF</button>
        </div>
    </div>

    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="cerrarModal()">&times;</span>
            <h2>Seleccionar Rango de Fechas</h2>
            <label for="fechaInicio">Fecha de Inicio:</label>
            <input type="date" id="fechaInicio">
            <label for="fechaFin">Fecha de Fin:</label>
            <input type="date" id="fechaFin">
            <button class="boton__1" onclick="generarPDF()">Generar PDF</button>
        </div>
    </div>

    <script>
        function abrirModal() {
            document.getElementById('modal').style.display = 'block';
        }

        function cerrarModal() {
            document.getElementById('modal').style.display = 'none';
        }

        function generarPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            const fechaInicio = document.getElementById('fechaInicio').value;
            const fechaFin = document.getElementById('fechaFin').value;

            doc.text("Estadísticas Generales", 10, 10);
            doc.text(`Rango de fechas: ${fechaInicio} a ${fechaFin}`, 10, 20);
            doc.text("Total de encuestas: 450", 10, 30);
            doc.text("Encuestas activas: 40", 10, 40);
            doc.text("Encuestas inactivas: 200", 10, 50);

            // Agregar más contenido según sea necesario

            doc.save("estadisticas_generales.pdf");
            cerrarModal();
        }
    </script>
</body>
</html>